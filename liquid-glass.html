<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>液态玻璃效果演示</title>
    <style>
        /* 全局重置 */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { height: 100%; width: 100%; overflow: hidden; font-family: 'Segoe UI', sans-serif; }

        /* 背景层 */
        .bg-layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('./bg.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 装饰性形状，用于展示扭曲效果 */
        .shape {
            position: absolute;
            border-radius: 50%;
            filter: blur(50px);
            z-index: -1;
            animation: float 10s infinite ease-in-out;
        }
        .shape:nth-child(1) { width: 300px; height: 300px; background: #84fab0; top: 20%; left: 20%; animation-delay: 0s; }
        .shape:nth-child(2) { width: 250px; height: 250px; background: #8fd3f4; bottom: 20%; right: 20%; animation-delay: -2s; }
        .shape:nth-child(3) { width: 200px; height: 200px; background: #a18cd1; top: 50%; left: 50%; transform: translate(-50%, -50%); animation-delay: -4s; }

        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(30px, -50px); }
        }

        /* 液态玻璃容器 */
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
        }

        .liquid-card {
            width: 90%;
            max-width: 400px;
            padding: 40px;
            position: relative;
            
            /* 基础玻璃样式 */
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            color: white;
            
            /* 关键：应用SVG滤镜 */
            /* 注意：backdrop-filter 和 SVG filter 同时使用可能极其消耗性能，甚至导致渲染异常 */
            /* 这里我们优先使用 SVG filter 实现液态边缘和内部扭曲 */
            /* 为了兼容性，我们可以保留 backdrop-filter，但液态扭曲主要作用于元素本身或其背景 */
            
            backdrop-filter: blur(10px); /* 基础模糊 */
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            
            /* 这里的 filter 引用 SVG 定义的 id */
            filter: url(#liquid-filter); 
            
            /* 确保在某些浏览器中开启硬件加速 */
            transform: translateZ(0);
            will-change: transform; 
        }

        /* 内容样式 */
        .liquid-card h1 { font-size: 2.2rem; margin-bottom: 15px; font-weight: 300; }
        .liquid-card p { font-size: 1rem; line-height: 1.6; opacity: 0.9; margin-bottom: 25px; }
        .btn {
            padding: 10px 25px;
            background: rgba(255,255,255,0.8);
            color: #333;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.3s;
        }
        .btn:hover { transform: scale(1.05); }

        /* SVG 滤镜定义，隐藏不显示 */
        .svg-filters { position: absolute; width: 0; height: 0; pointer-events: none; }

        /* 响应式 */
        @media (max-width: 768px) {
            .liquid-card { padding: 30px 20px; }
            .liquid-card h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

    <div class="bg-layer">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="container">
        <div class="liquid-card">
            <h1>Liquid Glass</h1>
            <p>体验基于 SVG 滤镜和 CSS 动画构建的液态玻璃效果。观察边框和背景的微妙流动，仿佛透过一层流动的水幕观察世界。</p>
            <button class="btn">Explore</button>
        </div>
    </div>

    <!-- SVG 滤镜定义 -->
    <svg class="svg-filters">
        <defs>
            <filter id="liquid-filter">
                <!-- 
                    1. feTurbulence: 生成分形噪声纹理 
                       type="fractalNoise" 或 "turbulence"
                       baseFrequency: 控制噪声的频率（粗糙度），值越小波纹越大
                       numOctaves: 细节层次
                       result: 输出名称
                -->
                <feTurbulence 
                    type="fractalNoise" 
                    baseFrequency="0.015" 
                    numOctaves="3" 
                    result="noise" 
                    seed="0">
                    <!-- 使用 SMIL 动画动态改变 baseFrequency 模拟流动 -->
                    <animate 
                        attributeName="baseFrequency" 
                        dur="15s" 
                        values="0.015;0.025;0.015" 
                        repeatCount="indefinite" 
                    />
                </feTurbulence>

                <!-- 
                    2. feDisplacementMap: 使用噪声纹理置换源图像
                       in: 源图像 (SourceGraphic)
                       in2: 噪声纹理 (noise)
                       scale: 扭曲强度
                -->
                <feDisplacementMap 
                    in="SourceGraphic" 
                    in2="noise" 
                    scale="10" 
                    xChannelSelector="R" 
                    yChannelSelector="G" 
                />
            </filter>
        </defs>
    </svg>

</body>
</html>
